# 1. 도메인 주도 설계란 무엇인가?

## 소프트웨어 설계
- 소프트웨어는 현실 세계의 프로세스를 자동화하거나 비즈니스 문제를 해결하기 위해 개발된다.
- 자동화된 비즈니스 프로세스나 현실 세계의 문제가 소프트웨어의 도메인이다
- 좋은 소프트웨어를 만들기 위해서는 도메인에 대한 깊은 지식이 필요하다. 
- 소프트웨어는 도메인의 핵심 개념과 각 구성 요소를 담고 있어야 하고 그들 간의 관계를 정확하게 실체화해야 한다. -> 소프트웨어는 도메인을 모델링해야 한다.


## 도메인?
- 하나의 도메인은 **세상의 어떤 것**이다.
- 도메인을 추상화해야 한다.
  - `추상화` : 도메인을 표현한 모델
  - `도메인 모델` : 도메인 지식에서 선택적으로 추상화하여 조직화한 것
    - 특정한 다이어그램이 아니라, 그 **다이어그램이 전달하고자 한 아이디어**(에릭 에반스) 
- 모델은 도메인에 대한 내부적 표현으로 설계와 개발 프로세스 내내 반드시 필요하다.
  - 모델을 사용해서 도메인 전문가, 소프트웨어 아키텍트, 개발자가 의사소통해야 한다.

## 소프트웨어 설계하는 다양한 방법

### 1. 폭포수 설계
- 업무 전문가가 일련의 요구사항을 작성해 업무 분석가에게 전달
- 업무 분석가는 그 요구사항을 기반으로 모델을 만들고 이 결과를 개발자에게 전달
- 개발자들은 모델을 기반으로 코딩

#### 단점
- 지식이 한 방향으로만 흐른다.
  - 분석가로부터 업무 전문가, 또는 개발자로부터 분석가에게 전달되는 피드백이 전무하다.
- 모든 요구사항을 프로젝트 초기에 확정하려고 시도한다. 하지만 프로젝트 초기에 도메인의 중요한 요소를 모두 다루는 완벽한 모델을 만들기는 힘들다.

### 2. 애자일 방법론
- 익스트림 프로그래밍
- 구현을 변경할 수 있는 유연성을 확보하고 비즈니스 이해관계자의 지속적인 참여와 수많은 리팩터링 작업을 통해 개발을 반복적으로 수행한다.

#### 단점
- 애자일 방법론은 단순성을 추구하지만 모든 사람들이 단순성의 의미에 대해 견해가 다르다.
- 견고한 설계 원칙이 없이 개발자들이 지속적으로 리팩터링을 수행하면 이해하기 어렵고 변경하기도 어려운 코드를 양산하게 된다.

### 3. 도메인 주도 설계
- 설계와 개발 방식을 연관 지어(개발을 통합하고), 설계와 개발이 더 나은 해결책을 도출하는데 어떻게 함께 작동할 수 있는지 보여준다.

> 좋은 설계는 개발을 가속화하고, 동시에 개발 프로세스에서 받는 피드백이 설계를 더욱 강화한다


## 도메인 지식 쌓기 : 비행 항로 제어 시스템 구축 프로젝트
- 특정 지역 위의 모든 비행을 추적하고, 예정 경로를 따르고 있는지, 충돌 가능성이 있는지 여부를 판단하는 감시 시스템

### 도메인 이해하기
- 도메인 : 항공 교통 모니터링
- 도메인 전문가 : 항공 교통 관제사

도메인 전문가와의 대화를 통해 항공 교통 도메인의 필수 개념을 도출한다. `항공기`, `항로`, `고정 지점`, `2차원 좌표` 등 키워드를 통해 도메인을 이해하고, 도메인의 필수 개념을 도출하여 도메인 모델의 밑그림을 그려야 한다. **즉, 모델을 구축하려면 필수 정보들을 골라내 일반화해야 한다.**

## 도메인과 소프트웨어
소프트웨어의 목적이란 현실 세계의 도메인 안에 있는 비즈니스 문제들을 해결하기 위한 것이다. 따라서 도메인과 소프트웨어는 철저하게 혼합되어야만 한다.

# 2. 유비쿼터스 언어

## 유비쿼터스 언어 : 모델 기반의 언어를 사용하라.
모델을 만들 때 모델에 대한 `아이디어`, 포함되어야 할 `요소`, 그것들이 어떻게 `연결`할 것인지, 어떤 것들이 `관계`가 있고 어떤 것들이 관계가 없는지와 같은 정보를 교환해야만 한다. 

- 도메인 전문가 -> 자신들의 전문용어 사용
- 기술 팀 멤버들 -> 설계의 관점에서 도메인을 논의하기 위한 그들만의 언어 사용

모델을 이야기하고 정의할 때는 각자의 언어가 아닌, 같은 언어로 말할 필요가 있다.

도메인 주도 설계의 핵심 원칙은 **모델 기반의 언어를 사용하는 것**이다. 모델은 소프트웨어와 도메인이 서로 교차하는 지점이기 때문이다.

> 유비쿼터스 : `언제 어디서나 동시에 존재하는`이라는 뜻. 여기서는 **도메인 기반 모델을 표현한 언어가 프로젝트 전반에 걸쳐 모든 사용자에 의해 항상 사용되어야 한다**는 의미로 이 용어가 사용되었다.

## 유비쿼터스 언어 만들기
- 도메인 전문가와 개발자가 대화하며 도메인 모델을 구축한다. (도메인 필수 개념 도출)
- 개발자는 모델의 주요 개념을 코드로 구현한다.
  - 모델에 대응하는 클래스로 구현해 봄으로써, 모델과 코드, 언어와 코드를 매핑해 나간다. 이렇게 하면 코드의 가독성이 높아지고 모델을 재구성하기에 유용하다.
- 모델을 만들 때 UML이면 충분하다고 생각할 수도 있다. 하지만 UML은 클래스와 내부 속성 및 그 사이의 관계를 표현하는 데에는 적합하나, 클래스의 행동이나 제약 사항을 표현하기는 쉽지 않다.


# 참고자료
- [도메인 주도 설계란 무엇인가? Chapter 1, Chapter 2](http://book.interpark.com/product/BookDisplay.do?_method=detail&sc.prdNo=208665779&gclid=CjwKCAjwr56IBhAvEiwA1fuqGir3QyOz9gcvg-boSfRb_EX4djYIDGE4l2iZs1wGUQ-AuI0OlMM91RoCEm0QAvD_BwE)